<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Bootstrap demo</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  </head>
  <body>
    <!-- Looks -->
    <div class="container text-sm-start mt-4">
        <div class="fs-1 fw-semibold">
            Dear, Letters 
        </div>

        <div class="fs-4 fw-light">
            Write.. on ur own.. hehe
        </div>
    </div>

    <div class="container text-sm-start">
        <button type="button" class="btn btn-dark d-block mt-4" onclick="window.location.href='index.html'">
          About
        </button>
        <button type="button" class="btn btn-dark d-block mt-2" onclick="window.location.href='letters.html'">
          Letters
        </button>
        <button type="button" class="btn btn-light d-block mt-2">
          Write
        </button>
    </div>


    <div class="container text-sm-start">
        <div class="fs-5 fw-semibold mt-5">
            Dear?
        </div>
        <div class="fs-8 fw-light">
            This will display the title of your letter
        </div>
        <textarea class="form-control" rows="1" id="dearInp"></textarea>
    </div>

    <div class="container text-sm-start">
        <div class="fs-5 fw-semibold mt-4">
            Letter:
        </div>
        <div class="fs-8 fw-light">
            The content of your letter
        </div>
        <textarea class="form-control" rows="5" id="contentInp"></textarea>
    </div>

    <div class="container text-sm-start">
        <div class="fs-5 fw-semibold mt-4">
            From?
        </div>
        <div class="fs-8 fw-light">
            (Must fill!) but can be anonymous
        </div>
        <textarea class="form-control" rows="1" id="fromInp"></textarea>
    </div>

    <div class="container text-sm-start">
        <button class="btn btn-primary d-block mt-5" id="submitBttn">
            Submit
        </button>
    </div>


    <div class="footer">
        <div class="fs-5 fw-semibold mt-5"></div>
    </div>



        <!-- BOOTSTRAP JS & DATABASE -->
        <script type="module">
            // you can change this for your own database
            import { initializeApp } from "blabla~app.js";
     
            const firebaseConfig = {
                apiKey: "blabla",
                authDomain: "blabla",
                databaseURL: "blabla",
                projectId: "blabla",
                storageBucket: "blabla",
                messagingSenderId: "blabla",
                appId:"blabla",
                measurementId: "blabla"
            };
            // you can change this for your own database ^

            // Initialize Firebase
            const app = initializeApp(firebaseConfig);
            const analytics = getAnalytics(app);

            import {getDatabase, ref, child, get, set, update, remove} from "https~blabla~database.js";
        
            const db = getDatabase();

            // assign buttons/textbox
            let dearInp = document.getElementById('dearInp');
            let contentInp = document.getElementById('contentInp');
            let fromInp = document.getElementById('fromInp');

            let submitBttn = document.getElementById('submitBttn');


            function AddData(){
                console.log("AddData()");
                set(ref(db,'LetterSet/' + fromInp.value), {
                    from:fromInp.value,
                    dear: dearInp.value,
                    content: contentInp.value
                }).then(()=>{
                    alert("Data added successfuly");
                }).catch((error)=>{
                    alert("Unsuccessful");
                    console.log(error);
                })
            }

            submitBttn.addEventListener('click', AddData);
            // made by Gattskii, github: https://github.com/Gattskii
        </script>
    </body>
</html>